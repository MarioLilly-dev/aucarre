<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Pascal & Marise Wedding Invitation</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+SC:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>

  <!-- TAP TO START -->
  <div id="tapToStart">
    <div class="tap-center">
      <button class="tap-btn">Tap to start</button>
    </div>
  </div>


  <!-- Audio -->
  <audio id="bgMusic" autoplay loop>
    <source src="./assets/audio.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- HERO -->
  <section class="parallax hero">
    <div class="overlay"></div>
    <div class="content white">
      <h1>Pascal &amp; Marise</h1>
      <h2>20.12.2025</h2>
    </div>
  </section>

  <!-- VERSE -->
  <section class="info">
    <blockquote>
      <p>â€œTwo are better than one. For if they fall, one will lift up the other.â€</p>
      <em>Ecclesiastes 4:9-12</em>
    </blockquote>
  </section>

  <!-- INVITATION -->
  <section class="parallax parallax-2">
  </section>

  <!-- INVITATION -->
  <section class="info">
    <div class="content">
      <p class="subtitle">With joyous hearts,</p>
      <h3>Zgheib &amp; Nassar Families</h3>
      <p>Request the honor of your presence at the wedding of their son and daughter</p>
      <h1>Pascal &amp; Marise</h1>
      <p>Saturday, December 20, 2025</p>

      <div id="countdown" class="countdown">
        <div><span id="days">00</span><small>Days</small></div>
        <div><span id="hours">00</span><small>Hours</small></div>
        <div><span id="minutes">00</span><small>Minutes</small></div>
        <div><span id="seconds">00</span><small>Seconds</small></div>
      </div>

    </div>
  </section>

  <section class="parallax parallax-3">
  </section>

  <!-- CEREMONY -->
  <section class="info">
    <h1>Wedding Ceremony</h1>
    <p>4:00 PM Beirut Time (GMT+3)</p>
    <p>Christ the King Convent â€“ Zouk Mosbeh<br>Ø¯ÙŠØ± ÙŠØ³ÙˆØ¹ Ø§Ù„Ù…Ù„Ùƒ - Ø²ÙˆÙ‚ Ù…ØµØ¨Ø­</p>
    <a class="btn" href="https://maps.app.goo.gl/WwqDcm8RjoBKyrH27" target="_blank">View Location</a>
  </section>

  <section class="parallax parallax-4">
  </section>

  <!-- PARTY -->
  <section class="info">
    <h1>Wedding Party</h1>
    <p>6:00 PM Beirut Time (GMT+3)</p>
    <p>Habtoor Metropolitan Palace Hotel â€“ Sin El Fil</p>
    <a class="btn" href="https://maps.app.goo.gl/PSxr5kFVRTa5MKf86" target="_blank">View Location</a>
  </section>


  <section class="parallax parallax-5">
  </section>

  <!-- GIFTS -->
  <section class="info">
    <div class="content">
      <h1>Gift Registry</h1>
      <p>Your love, laughter, and presence are all we could wish for on our special day.<br>
         For those who wish, a wedding list is available at</p>
      <h1>Whish Money</h1>
      <p>Account #20747888</p>
    </div>
  </section>

  <section class="parallax parallax-6">
  </section>


  <!-- RSVP -->
  <section class="info">
    <h1>Be Our Guest</h1>
    <p>Please reply before December 1, 2025</p>

    <form id="rsvpForm">
      <label for="name">Name</label>
      <input id="name" name="name" type="text" placeholder="Your full name" required>

      <label for="attending">Are you attending?</label>
      <select id="attending" name="attending" required>
        <option value="">â€” Select â€”</option>
        <option value="Yes, joyfully attending">ğŸ’– Yes, joyfully attending</option>
        <option value="Regretfully cannot attend">ğŸ’Œ Regretfully cannot attend</option>
      </select>

    
        <label for="guests">Number of Guests</label>
        <input
          type="number"
          id="guests"
          name="guests"
          min="1"
          max="10"
          placeholder="Enter number of guests"
        />

      <label for="message">Your wishes</label>
      <textarea id="message" name="message" rows="3" maxlength="120" placeholder="Write a short note (optional)"></textarea>

      <button type="submit" id="status">Send RSVP</button>
      <!-- <p id="status" class="status"></p> -->
    </form>
  </section>

  <!-- Music toggle button -->
  <button id="musicToggle" class="music-btn" aria-label="Toggle music">ğŸ”Š</button>

  <footer class="footer">
    <p>
        Powered by 
        <a href="https://linktr.ee/AuCarre.lb" target="_blank" rel="noopener noreferrer">
            AUCARRE EVENTS
        </a>
    </p>
    </footer>


  <script>
    const scriptURL = 'https://sheetdb.io/api/v1/a61jy4ktwegwu';
    const form = document.getElementById('rsvpForm');
    const status = document.getElementById('status');

    form.addEventListener('submit', async e => {
      e.preventDefault();

      const data = {
        name: form.name.value.trim(),
        attending: form.attending.value,
        message: form.message.value.trim(),
        numberOfGuests: form.guests.value.trim(),
      };

      status.textContent = 'Sending...';

      try {
        const res = await fetch(scriptURL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        if (res.ok) {
          status.textContent = 'Thank you! RSVP submitted.';
          form.reset();
        } else {
          throw new Error('Failed to send');
        }
      } catch (error) {
        status.textContent = 'Error sending RSVP. Please try again.';
      }
    });

    // Try playing automatically on load
    window.addEventListener('load', () => {
        bgMusic.play().catch(() => {
        console.log('Autoplay blocked, waiting for interaction...');
        });
    });

    // If autoplay was blocked, play after any click/touch
    document.addEventListener('click', tryPlay);
    document.addEventListener('touchstart', tryPlay);
    document.addEventListener('scroll', tryPlay);

    function tryPlay() {
        bgMusic.play().then(() => {
        document.removeEventListener('click', tryPlay);
        document.removeEventListener('touchstart', tryPlay);
        document.removeEventListener('scroll', tryPlay);
        });
    }

    const bgMusic = document.getElementById('bgMusic');
    const toggle = document.getElementById('musicToggle');

  // Try autoplay on load
    window.addEventListener('load', () => {
        bgMusic.play().catch(() => console.log('Autoplay blocked until user interacts.'));
    });

  // Allow play on first user interaction (for browsers that block autoplay)
    document.addEventListener('click', tryPlay);
    document.addEventListener('touchstart', tryPlay);

    var isMusicPaused = false;
    function tryPlay() {
        if(isMusicPaused == false) {
            bgMusic.play().then(() => {
            document.removeEventListener('click', tryPlay);
            document.removeEventListener('touchstart', tryPlay);
            });
        }
    }

  // Toggle play/pause
  toggle.addEventListener('click', () => {
    if (bgMusic.paused) {
      bgMusic.play();
      toggle.textContent = 'ğŸ”Š';
      isMusicPaused = false
    } else {
      bgMusic.pause();
      toggle.textContent = 'ğŸ”ˆ';
      isMusicPaused = true;
    }
  });


  // Tap to start
  const overlay = document.getElementById('tapToStart');
    // Disable scroll initially
    document.body.style.overflow = 'hidden';

    overlay.addEventListener('click', () => {

      // Fade out overlay
      overlay.classList.add('fade-out');

      // Wait for animation to end, then hide it completely
      overlay.addEventListener('transitionend', () => {
        overlay.style.display = 'none';
        document.body.style.overflow = 'auto'; // re-enable scrolling
      }, { once: true }); // ensures this runs only once
    });



    // countdown
    const eventDate = new Date("2025-12-20T16:00:00").getTime();

    const countdown = setInterval(() => {
      const now = new Date().getTime();
      const distance = eventDate - now;

      if (distance < 0) {
        clearInterval(countdown);
        document.getElementById("countdown").innerHTML = "<p>The event has started ğŸ‰</p>";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById("days").textContent = days.toString().padStart(2, '0');
      document.getElementById("hours").textContent = hours.toString().padStart(2, '0');
      document.getElementById("minutes").textContent = minutes.toString().padStart(2, '0');
      document.getElementById("seconds").textContent = seconds.toString().padStart(2, '0');
    }, 1000);

  </script>
</body>
</html>
